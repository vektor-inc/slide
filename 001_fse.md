---
marp: true
---
<!-- 
theme: vk-slide
size: 16:9
paginate: true
style: |
_paginate: false 
-->
<!-- _class: title -->
<!-- Scoped style -->



<!-- _class: title -->
![bg](themes/vk-slide/images/vws_title_01_red.svg)

# FSEテーマの未来

VWS オンライン勉強会 #030

---

## FSEって何？

* フルサイト編集（Full Site Editing）の略
* WordPress 5.9 から実装される目玉機能
* ヘッダーやフッターなど、テンプレート全体をブロックエディタで構築できるようになる。

フルサイト編集に対応したテーマを有効化している時にのみ有効
→ 既存のテーマの場合はFSEは有効にならない

---

## 先に結論

* フルサイト編集しようにも現状ではブロックが足りない
（パンくずリストなど）
* FSE自体がまだ発展途上で今後の仕様変更の影響がまだ大きい
* 値がない場合の条件分岐処理などができない
 -> ブロック作るしかない

-> 実案件で使うのはまだ危険（早くて WordPress 6.0 以降）
-> 安定するととても便利になると思うので期待！

---

# <center>見ていってみましょう</center>

---

<!-- _class: title-chapter  -->
<!-- _paginate: false  -->
![bg](themes/vk-slide/images/vws_title_01_lightgray.svg)

# テンプレートの編集

---

## テンプレートパーツ

従来の header.php や footer.php などに該当

あくまでそのサイトで実際に同時に使うパーツ

---

## 現在適用中のヘッダーの編集

* 現状のヘッダーを編集してみる
* 現状のヘッダーの中身をパターンから入れ替えてみる

---

## ヘッダーバリエーションの作成

* 別のヘッダーを作ってみる（背景黒用）
* テンプレートでヘッダーが切り替えられるようになる

---

## テンプレートパーツとパターンの違い

（開発者目線メモ）

テンプレートパーツの画面に表示させるのはユーザーがそのサイトで実際に使用するものだけ

→ サイトの基本レイアウトとしてどのバリエーションを選択するかはパターンで運用する
→ ヘッダーならページによって「通常」と「背景透過」のバリエーションは在り得るが、フッターの場合色違いなどは発生しない

---

## 投稿テンプレートの編集

* 投稿テンプレートの編集

---

<!-- _class: title-chapter  -->
<!-- _paginate: false  -->
![bg](themes/vk-slide/images/vws_title_01_lightgray.svg)


# FSEテーマの構造

---

## ファイル構成を見てみよう

* /parts ディレクトリに入れたファイルが表示される
* 改変すると変更内容がDB内（カスタム投稿タイプ）に保存される
（テーマ内のファイルが書き換えられるわけじゃない）
* ファイルとして保存したい場合はエクスポートできる
→ 自分のテーマファイルを上書き保存

* theme.json にテンプレート名を書くと表示名を指定できる

---

## おまけ : FSE関連情報の保存先投稿タイプ

* wp_template：テーマに含めるテンプレート。
* wp_template_part：テンプレートに含めるテンプレートパーツ。
* wp_global_styles：現在のテーマに対してサイト管理者によって作成および保存されたスタイル。
* wp_navigation：サイトに挿入できるナビゲーションメニュー。

---

## 各種設定を theme.json で一元管理

* カラーパレットを増やしてみる
* 文字サイズを変更してみる

こちらが詳しい
https://qiita.com/TetsuakiHamano/items/1cff973739039e5efc18

---

## FSEテーマの子テーマの振る舞い

* エクスポートしたファイルを置けばファイルで管理できる
* theme.jsonも変更したい値だけ書けばマージされる

---

## FSEの所感

* テーマをゼロから作るのは結局大変...。
※イラレがあれば誰もがクオリティの高いポスターを作れるわけじゃない
* PHPの知識はいらない！ と見せかけてからの
高度なカスタマイズを実装しようとするとブロック開発の知識が必要になるので境界は高くなった気がする

---

## Lightning の行方

* 別物すぎてすぎてバージョンアップでFSE対応とかそういう次元じゃない
* 出来たとしても互換処理でカオスになりすぎる

→ 別途FSE用のテーマ・プラグインを開発します。
→ 当然有料製品も開発するけど G3 Pro Pack のライセンスで使えるようにするつもりなのでご安心を。

---

<!-- _class: title -->
<!-- _paginate: false  -->
![bg](themes/vk-slide/images/vws_title_01_red.svg)

# おしまい

